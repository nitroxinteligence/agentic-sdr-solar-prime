2025-08-23 15:19:15.599 | INFO     | app.utils.logger:log_with_emoji:75 | üì± üìé M√≠dia do tipo audio/ogg; codecs=opus adicionada.
2025-08-23 15:19:17.459 | INFO     | app.utils.logger:log_with_emoji:75 | üì± üé§ √Åudio transcrito: 67 caracteres
2025-08-23 15:19:17.685 | INFO     | app.utils.logger:log_with_emoji:75 | ‚ÑπÔ∏è Estado do lead sincronizado com o banco de dados. | Data: {'changes': {'qualification_score': 10, 'preferences': {'interests': [], 'objections': []}, 'processed_message_count': 2, 'updated_at': '2025-08-23T15:19:17.464748'}}
INFO:     127.0.0.1:52070 - "GET /health HTTP/1.1" 200 OK
2025-08-23 15:19:29.335 | WARNING  | app.utils.logger:log_with_emoji:75 | ‚ö†Ô∏è Model: Gemini response has no valid part, indicating a potential issue (e.g., safety filters). Triggering fallback. | Data: {'finish_reason': 'N/A', 'prompt_feedback': '', 'error': "Invalid operation: The `response.text` quick accessor requires the response to contain a valid `Part`, but none were returned. The candidate's [finish_reason](https://ai.google.dev/api/generate-content#finishreason) is 1."}
2025-08-23 15:19:33.829 | ERROR    | app.utils.logger:log_with_emoji:75 | ‚ùå Model: Erro n√£o relacionado a quota. Todas as tentativas falharam: 500 An internal error has occurred. Please retry or report in https://developers.generativeai.google/guide/troubleshooting
2025-08-23 15:19:33.830 | ERROR    | app.utils.logger:log_with_emoji:75 | ‚ùå Model: Erro ao chamar modelo: 500 An internal error has occurred. Please retry or report in https://developers.generativeai.google/guide/troubleshooting
2025-08-23 15:19:33.831 | ERROR    | app.utils.logger:log_with_emoji:75 | ‚ùå Model: Erro no modelo prim√°rio: 500 An internal error has occurred. Please retry or report in https://developers.generativeai.google/guide/troubleshooting
2025-08-23 15:19:33.831 | WARNING  | app.utils.logger:log_with_emoji:75 | ‚ö†Ô∏è Model: Modelo prim√°rio falhou. Acionando fallback para o3-mini.
2025-08-23 15:19:33.831 | WARNING  | app.utils.logger:log_with_emoji:75 | ‚ö†Ô∏è Model: M√≠dia do tipo 'audio/ogg; codecs=opus' n√£o suportada pelo wrapper OpenAI. Ignorando.
2025-08-23 15:19:37.850 | WARNING  | app.utils.logger:log_with_emoji:75 | ‚ö†Ô∏è Model: Usando modelo fallback: o3-mini
2025-08-23 15:19:37.852 | ERROR    | app.utils.logger:log_with_emoji:75 | üí• Erro em AgenticSDRStateless: Erro: unbalanced parenthesis at position 20 | Data: {'traceback': 'Traceback (most recent call last):\n  File "/app/app/agents/agentic_sdr_stateless.py", line 125, in process_message\n    response = await self._generate_llm_response(message, lead_info, conversation_history, execution_context)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/app/app/agents/agentic_sdr_stateless.py", line 261, in _generate_llm_response\n    return await self._generate_response(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/app/app/agents/agentic_sdr_stateless.py", line 503, in _generate_response\n    tool_results = await self._parse_and_execute_tools(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/app/app/agents/agentic_sdr_stateless.py", line 301, in _parse_and_execute_tools\n    tool_matches = re.findall(tool_pattern, response)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.11/re/__init__.py", line 216, in findall\n    return _compile(pattern, flags).findall(string)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.11/re/__init__.py", line 294, in _compile\n    p = _compiler.compile(pattern, flags)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.11/re/_compiler.py", line 745, in compile\n    p = _parser.parse(p, flags)\n        ^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.11/re/_parser.py", line 994, in parse\n    raise source.error("unbalanced parenthesis")\nre.error: unbalanced parenthesis at position 20\n', 'component': 'AgenticSDRStateless'}